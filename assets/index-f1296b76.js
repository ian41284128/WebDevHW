(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const t of c)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(c){const t={};return c.integrity&&(t.integrity=c.integrity),c.referrerPolicy&&(t.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?t.credentials="include":c.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(c){if(c.ep)return;c.ep=!0;const t=r(c);fetch(c.href,t)}})();const p="modulepreload",v=function(e){return"/"+e},y={},k=function(n,r,o){if(!r||r.length===0)return n();const c=document.getElementsByTagName("link");return Promise.all(r.map(t=>{if(t=v(t),t in y)return;y[t]=!0;const s=t.endsWith(".css"),_=s?'[rel="stylesheet"]':"";if(!!o)for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.href===t&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${_}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":p,s||(l.as="script",l.crossOrigin=""),l.href=t,document.head.appendChild(l),s)return new Promise((d,h)=>{l.addEventListener("load",d),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>n())},m=k(()=>import("https://cdn.skypack.dev/three@0.130.0"),[]),{GLTFLoader:w}=k(()=>import("https://cdn.skypack.dev/three@0.130.0/examples/jsm/loaders/GLTFLoader"),[]),L=new m.Scene,C=new m.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),g=new m.WebGLRenderer({alpha:!0});g.setSize(window.innerWidth,window.innerHeight);document.getElementById("WebGL").appendChild(g.domElement);const P=new w;let f,i=0,u=0,b=0;P.load("room.glb",function(e){L.add(e.scene),f=e.scene,console.log(f)},void 0,function(e){console.error(e)});const R=new m.Clock;(function e(){let n=R.getDelta();if(requestAnimationFrame(e),f&&(u>0||f.rotation.y%90>10)){let r=n*90;f.rotation.y+=m.MathUtils.degToRad(r)*b,u-=r}g.render(L,C)})();const B=document.getElementsByClassName("cube");let a=[document.getElementsByClassName("cube__face--back"),document.getElementsByClassName("cube__face--left"),document.getElementsByClassName("cube__face--front"),document.getElementsByClassName("cube__face--right")];console.log(a);function E(e){if(e==i)return;[].forEach.call(a[(i+2)%4],o=>{o.classList.remove("backface")}),[].forEach.call(a[(e+2)%4],o=>{o.classList.add("backface")}),[].forEach.call(a[e],o=>{o.classList.add("frontface")}),[].forEach.call(a[i],o=>{o.classList.remove("frontface")});let n=u,r=0;switch(console.log(`wall:${i} -> ${e}`),i){case 0:switch(e){case 1:r=90,n=90;break;case 3:r=-90,n=-90;break}break;case 1:switch(e){case 0:r=-90,n=0;break;case 2:r=90,n=180;break}break;case 2:switch(e){case 1:r=-90,n=90;break;case 3:r=90,n=270;break}break;case 3:switch(e){case 2:r=-90,n=180;break;case 0:r=90,n=0;break}break}i=e,u=Math.abs(r)-u,b=Math.sign(r),console.log(`rotate${n}, ${r}, ${b}`),[].forEach.call(B,o=>{o.setAttribute("class",`cube rotate${n}`)})}[].forEach.call(a[1],e=>{e.addEventListener("click",()=>E(1))});[].forEach.call(a[0],e=>{e.addEventListener("click",()=>E(0))});[].forEach.call(a[3],e=>{e.addEventListener("click",()=>E(3))});[].forEach.call(a[2],e=>{e.addEventListener("click",()=>E(2))});
